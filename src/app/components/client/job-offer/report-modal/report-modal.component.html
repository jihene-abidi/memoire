<div class="report-modal-container">
  <div class="report-modal-header">
    <h2>{{ JobOfferConstant.EVALUATION_REPORT }}</h2>
    <div class="report-modal-actions">
      <button
        class="download-button"
        (click)="downloadReport()"
        [disabled]="loading || !reportUrl"
      >
        <mat-icon>{{ ReportModalConstants.CLOUD_DOWNLOAD }}</mat-icon>
      </button>
      <mat-icon class="close-icon" (click)="closeModal()">close</mat-icon>
    </div>
  </div>

  <div class="report-modal-content">
    <div *ngIf="loading" class="loading-container">
      <mat-spinner diameter="40"></mat-spinner>
      <p>{{ JobOfferConstant.LOADING_REPORT }}</p>
    </div>

    <div *ngIf="!loading && pdfPages.length === 0 && !reportImage" class="no-report-container">
      <mat-icon class="empty-icon">description_off</mat-icon>
      <p>{{ JobOfferConstant.NO_REPORT_AVAILABLE }}</p>
    </div>

    <div *ngIf="!loading && pdfPages.length > 0" class="pdf-multi-page-viewer">
      <canvas
        #pdfCanvas
        *ngFor="let page of pdfPages"
        class="pdf-page-canvas"
      ></canvas>
    </div>

    <img
      *ngIf="!loading && reportImage"
      [src]="reportImage"
      alt="Report Image"
      class="report-image-viewer"
    />
  </div>
</div>